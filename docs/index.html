<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Functional Programming Tools • purrr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="tidyverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- tidyverse --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="index.html">purrr</a>
        <small class="tidyverse">part of the <a href="http://tidyverse.org">tidyverse</a></small>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
        <li>
  <a href="https://github.com/tidyverse/purrr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="purrr" class="section level1">


<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>purrr enhances R’s functional programming (FP) toolkit by providing a complete and consistent set of tools for working with functions and vectors. If you’ve never heard of FP before, the best place to start is the family of <code><a href="reference/map.html">map()</a></code> functions which allow you to replace many for loops with code that is both more succinct and easier to read. The best place to learn about the <code><a href="reference/map.html">map()</a></code> functions is the <a href="http://r4ds.had.co.nz/iteration.html">iteration chapter</a> in R for data science.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The easiest way to get purrr is to install the whole tidyverse:</span>
<span class="kw">install.packages</span>(<span class="st">"tidyverse"</span>)

<span class="co"># Alternatively, install just purrr:</span>
<span class="kw">install.packages</span>(<span class="st">"purrr"</span>)

<span class="co"># Or the the development version from GitHub:</span>
<span class="co"># install.packages("devtools")</span>
devtools::<span class="kw">install_github</span>(<span class="st">"tidyverse/purrr"</span>)</code></pre></div>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p>The following example uses purrr to solve a fairly realistic problem: split a data frame into pieces, fit a model to each piece, summarise and extract R^2.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(purrr)

mtcars %&gt;%
<span class="st">  </span><span class="kw">split</span>(.$cyl) %&gt;%<span class="st"> </span><span class="co"># from base R</span>
<span class="st">  </span><span class="kw"><a href="reference/map.html">map</a></span>(~<span class="st"> </span><span class="kw">lm</span>(mpg ~<span class="st"> </span>wt, <span class="dt">data =</span> .)) %&gt;%
<span class="st">  </span><span class="kw"><a href="reference/map.html">map</a></span>(summary) %&gt;%
<span class="st">  </span><span class="kw"><a href="reference/map.html">map_dbl</a></span>(<span class="st">"r.squared"</span>)
<span class="co">#&gt;         4         6         8 </span>
<span class="co">#&gt; 0.5086326 0.4645102 0.4229655</span></code></pre></div>
<p>This example illustrates some of the advantages of purrr functions over the equivalents in base R:</p>
<ul>
<li><p>The first argument is always the data, so purrr works naturally with the pipe.</p></li>
<li><p>All purrr functions are type-stable. They always return the advertised output type (<code><a href="reference/map.html">map()</a></code> returns lists; <code><a href="reference/map.html">map_dbl()</a></code> returns double vectors), or they throw an errror.</p></li>
<li><p>All <code><a href="reference/map.html">map()</a></code> functions either accept function, formulas (used for succinctly generating anonymous functions), a character vector (used to extract components by name), or a numeric vector (used to extract by position).</p></li>
</ul>
</div>
<div id="api" class="section level2">
<h2 class="hasAnchor">
<a href="#api" class="anchor"></a>API</h2>
<div id="transformation" class="section level3">
<h3 class="hasAnchor">
<a href="#transformation" class="anchor"></a>Transformation</h3>
<ul>
<li><p>Apply a function to each element: <code><a href="reference/map.html">map()</a></code> returns a list; <code><a href="reference/map.html">map_lgl()</a></code>/<code><a href="reference/map.html">map_int()</a></code>/<code><a href="reference/map.html">map_dbl()</a></code>/<code><a href="reference/map.html">map_chr()</a></code> return a vector; <code><a href="reference/map.html">walk()</a></code> invisibly returns original list, calling the function for its side effects; <code><a href="reference/map2.html">map2()</a></code> and <code><a href="reference/map2.html">pmap()</a></code> vectorise over multiple inputs;</p></li>
<li><p>Modify a data structure with <code><a href="reference/modify.html">modify()</a></code>, at a certain depth with <code><a href="reference/modify.html">modify_depth()</a></code>, where a predicate is true with <code><a href="reference/modify.html">modify_if()</a></code>, or at specified locations with <code><a href="reference/modify.html">modify_at()</a></code>.</p></li>
<li><p>Reduce a list to a single value by iteratively applying a binary function: <code><a href="reference/reduce.html">reduce()</a></code> and <code><a href="reference/reduce.html">reduce_right()</a></code>.</p></li>
<li><p>Figure out if a list contains an object: <code><a href="reference/has_element.html">has_element()</a></code>.</p></li>
</ul>
</div>
<div id="list-manipulation-and-creation" class="section level3">
<h3 class="hasAnchor">
<a href="#list-manipulation-and-creation" class="anchor"></a>List manipulation and creation</h3>
<ul>
<li><p>Transpose a list with <code><a href="reference/transpose.html">transpose()</a></code>.</p></li>
<li><p>Create the cartesian product of the elements of several lists with <code><a href="reference/cross.html">cross()</a></code> or <code><a href="reference/cross.html">cross_df()</a></code>.</p></li>
<li><p>Flatten a list with <code><a href="reference/flatten.html">flatten()</a></code>, <code><a href="reference/flatten.html">flatten_lgl()</a></code>, <code><a href="reference/flatten.html">flatten_int()</a></code>, <code><a href="reference/flatten.html">flatten_dbl()</a></code>, and <code><a href="reference/flatten.html">flatten_chr()</a></code>.</p></li>
</ul>
</div>
<div id="predicate-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#predicate-functions" class="anchor"></a>Predicate functions</h3>
<p>(A predicate function is a function that either returns <code>TRUE</code> or <code>FALSE</code>)</p>
<ul>
<li><p><code><a href="reference/keep.html">keep()</a></code> or <code><a href="reference/keep.html">discard()</a></code> elements that satisfy the predicate..</p></li>
<li><p>Does <code><a href="reference/every.html">every()</a></code> element or <code><a href="reference/every.html">some()</a></code> elements satisfy the predicate?</p></li>
<li><p>Find the value (<code><a href="reference/detect.html">detect()</a></code>) and index (<code><a href="reference/detect.html">detect_index()</a></code>) of the first element that satisfies the predicate.</p></li>
<li><p>Find the head/tail that satisfies a predicate: <code><a href="reference/head_while.html">head_while()</a></code>, <code><a href="reference/head_while.html">tail_while()</a></code>.</p></li>
</ul>
</div>
<div id="lists-of-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#lists-of-functions" class="anchor"></a>Lists of functions</h3>
<ul>
<li><p><code><a href="reference/invoke.html">invoke()</a></code> every function in a list with given arguments and returns a list, <code>invoke_lgl()</code>/<code>invoke_int()</code>/<code>invoke_dbl()</code>/<code>invoke_chr()</code> returns vectors.</p></li>
<li><p><code><a href="reference/invoke.html">invoke_map()</a></code> every function in a list with different arguments for each call.</p></li>
</ul>
</div>
<div id="function-operators" class="section level3">
<h3 class="hasAnchor">
<a href="#function-operators" class="anchor"></a>Function operators</h3>
<ul>
<li><p>Fill in function arguments with <code><a href="reference/partial.html">partial()</a></code>.</p></li>
<li><p>Change the way your function takes input with <code><a href="reference/lift.html">lift()</a></code> and the <code>lift_xy()</code> family of composition helpers.</p></li>
<li><p>Compose multiple functions into a single function with <code><a href="reference/compose.html">compose()</a></code>.</p></li>
<li><p>Negate a predicate funtion with <code><a href="reference/negate.html">negate()</a></code>.</p></li>
</ul>
</div>
<div id="objects-coercion" class="section level3">
<h3 class="hasAnchor">
<a href="#objects-coercion" class="anchor"></a>Objects coercion</h3>
<ul>
<li><p>Convert an array or matrix to a list with <code><a href="reference/array-coercion.html">array_tree()</a></code> and <code><a href="reference/array-coercion.html">array_branch()</a></code>.</p></li>
<li><p>Convert a list to a vector with <code><a href="reference/as_vector.html">as_vector()</a></code>.</p></li>
</ul>
</div>
</div>
<div id="philosophy" class="section level2">
<h2 class="hasAnchor">
<a href="#philosophy" class="anchor"></a>Philosophy</h2>
<p>The goal is not to try and simulate Haskell in R: purrr does not implement currying or destructuring binds or pattern matching. The goal is to give you similar expressiveness to an FP language, while allowing you to write code that looks and works like R.</p>
<ul>
<li><p>Instead of point free style, use the pipe, <code>%&gt;%</code>, to write code that can be read from left to right.</p></li>
<li><p>Instead of currying, we use <code>...</code> to pass in extra arguments.</p></li>
<li><p>Anonymous functions are verbose in R, so we provide two convenient shorthands. For unary functions, <code>~ .x + 1</code> is equivalent to <code>function(.x) .x + 1</code>. For chains of transformations functions, <code><a href="reference/pipe.html">. %&gt;% f() %&gt;% g()</a></code> is equivalent to <code>function(.) . %&gt;% f() %&gt;% g()</code>.</p></li>
<li><p>R is weakly typed, we need variants <code><a href="reference/map.html">map_int()</a></code>, <code><a href="reference/map.html">map_dbl()</a></code>, etc since we don’t know what <code>.f</code> will return.</p></li>
<li><p>R has named arguments, so instead of providing different functions for minor variations (e.g. <code><a href="reference/detect.html">detect()</a></code> and <code>detectLast()</code>) I use a named argument, <code>.right</code>. Type-stable functions are easy to reason about so additional arguments will never change the type of the output.</p></li>
</ul>
</div>
<div id="related-work" class="section level2">
<h2 class="hasAnchor">
<a href="#related-work" class="anchor"></a>Related work</h2>
<ul>
<li><p><a href="http://renkun.me/rlist/">rlist</a>, another R package to support working with lists. Similar goals but somewhat different philosophy.</p></li>
<li><p>Functional programming librarys for javascript: <a href="http://underscorejs.org">underscore.js</a>, <a href="https://lodash.com">lodash</a> and <a href="http://danieltao.com/lazy.js/">lazy.js</a>.</p></li>
<li><p>List operations defined in the Haskell <a href="http://hackage.haskell.org/package/base-4.7.0.1/docs/Prelude.html#g:11">prelude</a></p></li>
<li><p>Scala’s <a href="http://www.scala-lang.org/api/current/index.html#scala.collection.immutable.List">list methods</a>.</p></li>
</ul>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cran.r-project.org/package=purrr">https://​cran.r-project.org/​package=purrr</a>
</li>
<li>Browse source code at <br><a href="https://github.com/tidyverse/purrr">https://​github.com/​tidyverse/​purrr</a>
</li>
<li>Report a bug at <br><a href="https://github.com/tidyverse/purrr/issues">https://​github.com/​tidyverse/​purrr/​issues</a>
</li>
<li>Learn more at <br><a href="http://r4ds.had.co.nz/iteration.html">http://​r4ds.had.co.nz/​iteration.html</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file <a href="LICENSE">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="http://hadley.nz">Hadley Wickham</a> <br><small class="roles"> Author, maintainer </small> </li>
<li>
<a href="https://www.rstudio.com"><img src="http://tidyverse.org/rstudio-logo.svg" height="24"></a> <br><small class="roles"> Copyright holder, funder </small> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
<div>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="http://cran.r-project.org/package=purrr"><img src="http://www.r-pkg.org/badges/version/purrr" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://travis-ci.org/tidyverse/purrr"><img src="https://travis-ci.org/tidyverse/purrr.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://codecov.io/github/tidyverse/purrr?branch=master"><img src="https://img.shields.io/codecov/c/github/tidyverse/purrr/master.svg" alt="Coverage Status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="tidyverse">
  <p>purrr is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="http://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>Developed by <a href="http://hadley.nz">Hadley Wickham</a>, <a href="https://www.rstudio.com"><img src="http://tidyverse.org/rstudio-logo.svg" height="24"></a>.</p>
  <p>Site built by <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-67989-18', 'auto');
  ga('send', 'pageview');
</script></footer>
</div>

  </body>
</html>
